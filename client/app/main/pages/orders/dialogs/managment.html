<!-- DIALOG -->
<md-dialog class="contact-dialog" aria-label="New Task">
  <form name="contactForm" class="md-inline-form" novalidate ng-submit="vehicleForm.$valid">
    <!-- DIALOG TOOLBAR -->
    <md-toolbar class="md-accent md-tall" layout="column">
      <!-- TOOLBAR TOP -->
      <div class="md-toolbar-tools md-toolbar-tools-top" layout="row" layout-align="space-between center">
        <span class="title" translate="ORDERS.ORDER_DETAILS">Detalle de la orden</span>
        <md-button class="md-icon-button" ng-click="vm.closeDialog()" aria-label="Close dialog" translate translate-attr-aria-label="ORDERS.CLOSE_DIALOG">
          <md-icon md-font-icon="icon-close"></md-icon>
        </md-button>
      </div>
      <!-- / TOOLBAR TOP -->
      <!-- TOOLBAR MIDDLE -->
      <div class="md-toolbar-tools md-toolbar-tools-middle" flex layout="column" layout-align="center center">
        <div layout="column" layout-align="center center">
          <div class="contact-name">{{vm.order.service.name}}</div>
        </div>
      </div>
      <!-- / TOOLBAR MIDDLE -->
      <!--  TOOLBAR BOTTOM -->
      <div class="md-toolbar-tools md-toolbar-tools-bottom" layout="row" layout-align="center center">
        <div flex layout="row" layout-align="center center">
          <div>{{vm.order.provider.distributorName}}</div>
        </div>
      </div>
      <!-- / TOOLBAR BOTTOM -->
    </md-toolbar>
    <!-- / DIALOG TOOLBAR -->
    <!-- DIALOG CONTENT -->
    <md-dialog-content ms-scroll>
      <md-input-container class="md-icon-float md-block">
        <label translate="ORDERS.DIALOG.CUSTOMER_NAME">Name</label>
        <md-icon md-font-icon="icon-account" class="name"></md-icon>
        <input name="username" ng-model="vm.order.customer.name" type="text" disabled />
        <div ng-messages="contactForm.username.$error">
          <div ng-message="required">Esto es necesario.</div>
        </div>
      </md-input-container>
      <md-input-container class="md-block">
        <md-icon md-font-icon="icon-phone"></md-icon>
        <input ng-model="vm.order.customer.phone" type="text" disabled 
          placeholder="{{ 'ORDERS.DIALOG.CUSTOMER_PHONE' | translate }}" translate
          translate-attr-placeholder="ORDERS.DIALOG.CUSTOMER_PHONE">
      </md-input-container>
      <md-input-container class="md-icon-float md-block">
        <label translate="ORDERS.DIALOG.CUSTOMER_EMAIL">Email</label>
        <md-icon md-font-icon="icon-email" class="email"></md-icon>
        <input name="email" ng-model="vm.order.customer.email" type="email" placeholder="Email" translate translate-attr-placeholder="ORDERS.EMAIL"
          disabled/>
        <div ng-messages="contactForm.email.$error">
          <div ng-message="required">Esto es necesario.</div>
        </div>
      </md-input-container>
      <md-input-container class="md-block">
        <label translate="ORDERS.DIALOG.STATUS">STATUS</label>
        <md-icon md-font-icon="icon-home"></md-icon>
        <md-select ng-model="vm.selectedStatus" ng-disabled="vm.currentUser.role === 'country Manager'">
          <md-option ng-repeat="statu in vm.status" 
            ng-selected="statu === vm.order.status ? true : false"
            value="{{statu}}">
            {{statu}}
          </md-option>
        </md-select>
      </md-input-container>
      <md-input-container class="md-block">
        <label translate="ORDERS.DIALOG.COMMENT">Comment</label>
        <md-icon md-font-icon="icon-format-align-left"></md-icon>
        <textarea ng-model="vm.order.comment" md-maxlength="500" 
          ng-disabled="vm.currentUser.role === 'country Manager'"
          rows="5" md-select-on-focus maxlength="500">
        </textarea>
      </md-input-container>
    </md-dialog-content>
    <!-- / DIALOG CONTENT -->
    <!-- DIALOG ACTIONS -->
    <md-dialog-actions layout="row" layout-align="space-between center">
      <div layout="row" layout-align="start center">
        <md-button ng-click="vm.closeDialog()" 
          class="send-button md-warn md-raised" 
          aria-label="SAVE" translate="ORDERS.DIALOG.CANCEL" translate-attr-aria-label="ORDERS.DIALOG.CANCEL">
          CANCEL
        </md-button>
      </div>
      <div layout="row">
        <md-button type="submit" ng-click="vm.updateOrder()" 
          class="send-button md-accent md-raised" 
          ng-disabled="contactForm.$invalid || contactForm.$pristine || vm.currentUser.role === 'country Manager'"
          aria-label="SAVE" translate="ORDERS.DIALOG.SAVE" translate-attr-aria-label="ORDERS.DIALOG.SAVE">
          SAVE
        </md-button>
      </div>
    </md-dialog-actions>
    <!-- / DIALOG ACTIONS -->
  </form>
</md-dialog>
<!-- / DIALOG -->
